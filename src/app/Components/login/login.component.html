<div class="whole">
  <div class="container">
    <div>
      <img
        src="https://cdn.myportfolio.com/93bea8ef802a988ed8ab44889dc82b83/b99b565b-5336-4cd2-b731-c64c24515600_rw_1200.gif?h=d41ed58a4aa58082b4478ffc4571d416"
        alt="Login Image" class="image-section">
    </div>
    <div class="card p-4">
      <div class="content">
        <h2>Login Here!!</h2>
        <form #loginForm="ngForm" (ngSubmit)="login(loginForm)">
          <mat-form-field class="w-100">
            <mat-label>
              <mat-icon>account_circle</mat-icon> Username
            </mat-label>
            <input matInput ngModel name="username" id="username" placeholder="Username" autocomplete="username"
              required minlength="4" maxlength="20" pattern="^[A-Z][a-zA-Z0-9_]+$">
            <mat-error *ngIf="loginForm.form.controls['username'].hasError('required')">Username is required.
            </mat-error>
            <mat-error *ngIf="loginForm.form.controls['username'].hasError('pattern')">
              Username must start with a capital letter
            </mat-error>
            <mat-error *ngIf="loginForm.form.controls['username'].hasError('minlength')">Username must be at least 4
              characters long.</mat-error>
            <mat-error *ngIf="loginForm.form.controls['username'].hasError('maxlength')">Username cannot exceed 20
              characters.</mat-error>

          </mat-form-field>

          <mat-form-field class="w-100">
            <mat-label>
              <mat-icon>vpn_key</mat-icon> Password
            </mat-label>
            <input matInput ngModel name="password" id="password" type="password"
              [type]="hidePassword ? 'password' : 'text'" placeholder="Password" required minlength="8"
              pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@#$%^&+=!*_])[A-Za-z\d@#$%^&+=!*_]{8,}$">
            <mat-error *ngIf="loginForm.form.controls['password'].hasError('required')">Password is required.
            </mat-error>
            <mat-error *ngIf="loginForm.form.controls['password'].hasError('pattern')">
              must include - [1-Uc,1-Lc,1-sp,1-digit]
            </mat-error>
            <mat-error *ngIf="loginForm.form.controls['password'].hasError('minlength')">Password must be at least 8
              characters long.</mat-error>

            <mat-icon matSuffix (click)="togglePasswordVisibility()">
              {{ hidePassword ? 'visibility_off' : 'visibility' }}
            </mat-icon>
          </mat-form-field>


          <button mat-raised-button color="primary" type="submit" class="login"
            [disabled]="!loginForm.form.valid">Login</button>

          <div class="mt-3">
            <a class="w-100 create" (click)="registerUser()">Create an Account</a>
          </div>
        </form>

      </div>
    </div>

  </div>